@*
 * This template is called from the `index` template. This template
 * handles the rendering of the page header and body tags. It takes
 * two arguments, a `String` for the title of the page and an `Html`
 * object to insert into the body of the page.
 *@
@(title: String)(content: Html)

<!DOCTYPE html>
<html lang="en">
    <head>
        @* Here's where we render the page title `String`. *@
        <title>@title</title>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <meta name="color-scheme" content="dark light">
    </head>
    <body>
        <header class="nav">
            <h1><a href="/">SP Project</a></h1>
            <ul class="nav__links">
                <li><a href="/hello?name=Moritz">Hello</a></li>
                <li><a href="/topics">Topics</a></li>
                <li><a href="/about">About</a></li>
            </ul>
            <ul class="nav__links">
                <li id="drop"><a href="#"><span class="material-icons" id="menu">menu</span></a>
                    <ul class="nav__menu__drop">
                        <li>Test</li>
                        <li>Contact</li>
                        <li>Github</li>
                    </ul>
                </li>
                <li>
                    <input type="checkbox" class="btn-toggle" name="dark" id="dark_check" onclick="switchTheme()">
                    <label for="dark_check">
                        <span class="material-icons" id="dark_icon">
                            light_mode
                        </span>
                    </label>
                </li>
            </ul>
        </header>

        @content

        <div class="footer">
            <h1>Footer</h1>
        </div>

      <script src="@routes.Assets.versioned("javascripts/main.js")" type="text/javascript"></script>
        <script>
            const check = document.getElementById("dark_check");
            const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
            const currentTheme = localStorage.getItem("theme")

            function switchTheme() {
                if (check.checked) {
                    if (prefersDarkScheme.matches) {
                        //toggle light theme when OS is in dark mode
                        // Theme switch #1
                        document.body.classList.toggle("light-theme");
                        document.documentElement.style.setProperty('background', 'whitesmoke');
                        localStorage.setItem("theme","light")
                    }else{
                        //toggle dark theme when os isnt in dark mode
                        // Theme switch #2
                        document.body.classList.toggle("dark-theme");
                        document.documentElement.style.setProperty('background', '#24252A');
                        localStorage.setItem("theme","dark")
                    }
                } else {
                    if (prefersDarkScheme.matches) {
                        //toggle light theme when os is in dark mode and the button is unchecked
                        //Theme switch back #1
                        document.body.classList.toggle("light-theme");
                        document.documentElement.style.setProperty('background', '#24252A');
                        localStorage.setItem("theme","dark")
                    }else{
                        //toggle dark theme when os isnt in dark mode and the button is unchecked
                        //Theme switch back #2
                        document.body.classList.toggle("dark-theme");
                        document.documentElement.style.setProperty('background', 'whitesmoke');
                        localStorage.setItem("theme","light")
                    }
                }
            }


        </script>
    </body>
</html>
